
\section{Администрирование \ds}

Для~правильной работы \ds необходимо уделять достаточное внимание задачам его администрирования.
Они должны включать как задачи обслуживания \ds на~рабочих местах, так и задачи обслуживания репозиториев пакетов,
которые служат источниками программ для доставки и установки на~компьютеры пользователей.

\subsection{Администрирование репозиториев пакетов}

Пакеты для~установки размещаются на~узлах в~сети и доставляются по~одному из~распространённых протоколов.
Сами~по~себе файлы пакетов перед публикацией никакой дополнительной обработки проходить не~должны,
требуется только правильное именование каталогов, в~которых они размещаются (см.~разд.~\ref{repo_format}).
Все~задачи администрирования репозиториев связаны с~созданием и поддержкой в~актуальном состоянии специальной вспомогательной информации,
здесь и далее называемой ``индексом  репозитория''.
Индекс используется для~хранения подробной информации о~наборе пакетов в~репозитории и их~содержимом
Подробное описание формата индекса можно найти в~разделе \ref{repo_format} спецификаций,
здесь мы рассмотрим порядок работы основных утилит для~администрирования репозиториев \ds.

Для~администрирования репозитория \ds  содержит три~утилиты:
\EN{ds-repo},
\EN{ds-patch},
\EN{ds-references},
назначение которые будут пояснено ниже.
Для~всех них в~качестве аргумента командной строки указывается путь к~каталогу с~файлами индекса (в~выводе справки обозначен именем \CODE{INDEX\_PATH}).
Пользователь должен указать путь непосредственно к~каталогу индекса,
а не~каталогу репозитория. 
Например, указание может быть следующего вида: \PATH(/repo/i586/base.classic). 
Аналогично, везде, где требуется указание пути к~каталогу с~пакетами, необходимо указывать каталоги,
содержащие файлы пакетов без~промежуточных подкаталогов.
Например, указание каталога с~пакетами может быть следующим: \PATH{/repo/i586/RPMS.classic}.
Несмотря на то, что набор каталогов для~организации репозитория пакетов \ds строго определён (см.~разд.~\ref{repo_format}),
утилиты администрирования  для~большей гибкости его не~обрабатывают автоматически.

Для~всех трёх пперечисленных утилит опции командной строки могут быть ключами, управляющими поведением (обычно начинаются с~одиночного или двойного дефиса), и свободными параметрами.
Для~запрета обработки опции как~ключи и для~явного перехода к~режиму свободных параметров пользователь может использовать последовательность ``\CODE{-~-}'' (два дефиса). %%FIXME:Space between dashes;

Количество и назначение ключей и свободных параметров для~каждой утилиты требуют отдельного   описания,
но некоторые из них могут использоваться для~любой команды. 
К~ним относятся следующие ключи:

\begin{itemize}

\item {
\CODE{-h}, \CODE{-~-help} --- показать экран справки и завершить работу; %%FIXME:
}

\item {
\CODE{-~-log} --- заменить вывод информации о~статусе работы на~вывод журнала; %%FIXME:
}

\item {
\CODE{-~-debug} --- при~выводе журнала  на~стандартный вывод понизить фильтр записей до~уровня отладочной информации. %%FIXME
}

\end{itemize}

Без~использования режима вывода журнала утилиты предоставляют информацию для~пользователя о~ходе выполнения запрошенной операции.
Если утилиты были вызваны не~в~интерактивном режиме, то правильнее переключить вывод н~записи журнала и сохранить их~файл. 

